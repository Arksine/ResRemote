Uinput processing algorithm

Notes:  The tracking ID can be an aribtrary constant, as I am only ever tracking one contact. A higher integer would be preferable.  9000 would be a good number

		The uinput documentation says that the trackingID is -1 when ending an event.  Other examples show FFFFFFFF. Need to figure out which to use.
		
		I can use an constant for pressure, hex 35 seems consistent, or I can get the pressure from the arduino.  The
		problem is that I'm not confident in the way the arduino is reporting pressure.  The harder you push, the smaller the number.  If I can get a better read on how the pressure works I'll be more inclined to retreive it
		from the arduino.

		SYN_REPORT is just zero.  I can use eiher when calling the sync event.  I believe I do need to call it, as
		I don't expect the uinput driver to do anything but post events to the subsystem

		
----------------------------------

global int prevXCoord;
global int prevYCoord;
global bool bool isTouching = false;

void processInput (String command, int xCoord, int yCoord) {
	
	if (command == "finger down") {
		if (!isTouching) {
			send_event(EV_ABS, ABS_MT_TRACKING_ID, trackingId)  // TODO: need to figure out how to calculate the tracking ID, not sure if I need it
			send_event(EV_ABS, ABS_MT_POSITION_X, xCoord)
			send_event(EV_ABS, ABS_MT_POSITION_Y, yCoord)
			send_event(EV_ABS, ABS_MT_PRESSUE, pressure)	// TODO: need to figure out how to calculate pressure (I can actually get it from the arduino, but right now its off)
			send_event(EV_ABS, ABS_TOUCH_MAJOR, touch)	// TODO: need to figure out how to calculate touch_major, or if I even need it
			send_event(EV_SYN, SYN_REPORT, 0)  // TODO: do I need this, or is it handled automatically?
			
			prevXCoord = xCoord;
			prevYCoord = yCoord;
			
			isTouching = true;
			
		}
		else {
			bool coordChanged = false;
			
			if (xCoord != prevXCoord) {
				send_event(EV_ABS, ABS_MT_POSITION_X, xCoord)
				prevXCoord = xCoord;
				coordChanged = true;
			}
			
			if (yCoord != prevYCoord) {
				send_event(EV_ABS, ABS_MT_POSITION_Y, yCoord)
				prevYCoord = yCoord;
				coordChanged = true;
			}
			
			if (coordChanged) {
				send_event(EV_SYN, SYN_REPORT, 0)  // TODO: do I need this, or is it handled automatically?
			}
	
		}
		
	}
	else if (command == "finger up") {
		send_event(EV_ABS, ABS_MT_TRACKING_ID, trackingId)  // tracking id is either -1 or FFFFFFFF.
		send_event(EV_SYN, SYN_REPORT, 0)  // TODO: do I need this, or is it handled automatically?
		
		isTouching = false;
	}
	
}

void send_event(int type, int code, int value) {
    memset(&event, 0, sizeof(event));
    gettimeofday(&event.time, NULL);
    event.type = type;  
    event.code = code;
    event.value = value;
    write(uinp_fd, &event, sizeof(event));
    
}